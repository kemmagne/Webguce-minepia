<ui:composition template="../part/default_view.xhtml"
    xmlns:="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:define name="action">
        <ui:param name="demController" value="#{dEMConsultationController}"/>
        <h:panelGrid cellspacing="5" columns="3">
            <p:commandButton
                action="#{userControllerSite.goToNewPageForm()}"
                ajax="false"
                disabled="#{demController.current.recordState != 'CLOS'}"
                process="@this" value="#{dem.ModificationRequest}">
                <f:param name="page" value="form"/>
                <f:param name="recordId" value="#{dEMConsultationController.current.recordId}"/>
                <f:param name="type" value="form"/>
                <f:param name="formCode" value="DEM09"/>
            </p:commandButton>
            <p:commandButton ajax="false" icon="ui-icon-print"
                immediate="true"
                rendered="#{demController.current.demReference != null}" value="#{dem.downloadAttachment}">
                <p:fileDownload value="#{demController.printDocument()}"/>
            </p:commandButton>
            <p:commandButton action="#{demController.goToPreviows()}"
                ajax="false" icon="ui-icon-cancel" immediate="true" value="#{dem.back}">
                <f:param name="back" value="back"/>
            </p:commandButton>
        </h:panelGrid>
    </ui:define>
</ui:composition>
